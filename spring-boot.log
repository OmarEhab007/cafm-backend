WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::staticFieldBase has been called by com.google.inject.internal.aop.HiddenClassDefiner (file:/opt/homebrew/Cellar/maven/3.9.11/libexec/lib/guice-5.1.0-classes.jar)
WARNING: Please consider reporting this to the maintainers of class com.google.inject.internal.aop.HiddenClassDefiner
WARNING: sun.misc.Unsafe::staticFieldBase will be removed in a future release
[INFO] Scanning for projects...
[INFO] 
[INFO] -----------------------< com.cafm:cafm-backend >------------------------
[INFO] Building CAFM Backend 1.0.0
[INFO]   from pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] >>> spring-boot:3.3.3:run (default-cli) > test-compile @ cafm-backend >>>
[INFO] 
[INFO] --- jacoco:0.8.12:prepare-agent (default) @ cafm-backend ---
[INFO] argLine set to -javaagent:/Users/omar/.m2/repository/org/jacoco/org.jacoco.agent/0.8.12/org.jacoco.agent-0.8.12-runtime.jar=destfile=/Users/omar/Developer/CAFM/cafm-backend/target/jacoco.exec
[INFO] 
[INFO] --- resources:3.3.1:resources (default-resources) @ cafm-backend ---
[INFO] Copying 3 resources from src/main/resources to target/classes
[INFO] Copying 56 resources from src/main/resources to target/classes
[INFO] 
[INFO] --- compiler:3.13.0:compile (default-compile) @ cafm-backend ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 285 source files with javac [debug parameters release 23] to target/classes
[INFO] /Users/omar/Developer/CAFM/cafm-backend/src/main/java/com/cafm/cafmbackend/dto/asset/AssetCreateRequest.java: Some input files use or override a deprecated API.
[INFO] /Users/omar/Developer/CAFM/cafm-backend/src/main/java/com/cafm/cafmbackend/dto/asset/AssetCreateRequest.java: Recompile with -Xlint:deprecation for details.
[INFO] /Users/omar/Developer/CAFM/cafm-backend/src/main/java/com/cafm/cafmbackend/service/PushNotificationService.java: Some input files use unchecked or unsafe operations.
[INFO] /Users/omar/Developer/CAFM/cafm-backend/src/main/java/com/cafm/cafmbackend/service/PushNotificationService.java: Recompile with -Xlint:unchecked for details.
[INFO] 
[INFO] --- resources:3.3.1:testResources (default-testResources) @ cafm-backend ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO] 
[INFO] --- compiler:3.13.0:testCompile (default-testCompile) @ cafm-backend ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 5 source files with javac [debug parameters release 23] to target/test-classes
[INFO] 
[INFO] <<< spring-boot:3.3.3:run (default-cli) < test-compile @ cafm-backend <<<
[INFO] 
[INFO] 
[INFO] --- spring-boot:3.3.3:run (default-cli) @ cafm-backend ---
[INFO] Attaching agents: []
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts
19:07:45,287 |-INFO in ch.qos.logback.classic.LoggerContext[default] - This is logback-classic version 1.5.7
19:07:45,288 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Here is a list of configurators discovered as a service, by rank: 
19:07:45,288 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe -   org.springframework.boot.logging.logback.RootLogLevelConfigurator
19:07:45,288 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - They will be invoked in order until ExecutionStatus.DO_NOT_INVOKE_NEXT_IF_ANY is returned.
19:07:45,288 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Constructed configurator of type class org.springframework.boot.logging.logback.RootLogLevelConfigurator
19:07:45,290 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - org.springframework.boot.logging.logback.RootLogLevelConfigurator.configure() call lasted 0 milliseconds. ExecutionStatus=INVOKE_NEXT_IF_ANY
19:07:45,290 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Trying to configure with ch.qos.logback.classic.joran.SerializedModelConfigurator
19:07:45,291 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Constructed configurator of type class ch.qos.logback.classic.joran.SerializedModelConfigurator
19:07:45,291 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.scmo]
19:07:45,291 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.scmo]
19:07:45,291 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - ch.qos.logback.classic.joran.SerializedModelConfigurator.configure() call lasted 0 milliseconds. ExecutionStatus=INVOKE_NEXT_IF_ANY
19:07:45,291 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Trying to configure with ch.qos.logback.classic.util.DefaultJoranConfigurator
19:07:45,291 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Constructed configurator of type class ch.qos.logback.classic.util.DefaultJoranConfigurator
19:07:45,291 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]
19:07:45,291 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.xml]
19:07:45,291 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - ch.qos.logback.classic.util.DefaultJoranConfigurator.configure() call lasted 0 milliseconds. ExecutionStatus=INVOKE_NEXT_IF_ANY
19:07:45,291 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Trying to configure with ch.qos.logback.classic.BasicConfigurator
19:07:45,292 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - Constructed configurator of type class ch.qos.logback.classic.BasicConfigurator
19:07:45,292 |-INFO in ch.qos.logback.classic.BasicConfigurator@1b693861 - Setting up default configuration.
19:07:45,300 |-INFO in ch.qos.logback.classic.util.ContextInitializer@650f03fe - ch.qos.logback.classic.BasicConfigurator.configure() call lasted 8 milliseconds. ExecutionStatus=NEUTRAL
19:07:45,559 |-INFO in ch.qos.logback.core.joran.util.ConfigurationWatchListUtil@326fcb35 - Adding [jar:file:/Users/omar/.m2/repository/org/springframework/boot/spring-boot/3.3.3/spring-boot-3.3.3.jar!/org/springframework/boot/logging/logback/defaults.xml] to configuration watch list.
19:07:45,559 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@1d711ba3 - URL [jar:file:/Users/omar/.m2/repository/org/springframework/boot/spring-boot/3.3.3/spring-boot-3.3.3.jar!/org/springframework/boot/logging/logback/defaults.xml] is not of type file
19:07:45,560 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 8
19:07:45,560 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 9
19:07:45,560 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 10
19:07:45,560 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 11
19:07:45,560 |-WARN in ch.qos.logback.core.joran.action.ConversionRuleAction - [converterClass] attribute is deprecated and replaced by [class]. See element [conversionRule] near line 12
19:07:45,560 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word applicationName with class [org.springframework.boot.logging.logback.ApplicationNameConverter]
19:07:45,560 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word clr with class [org.springframework.boot.logging.logback.ColorConverter]
19:07:45,560 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word correlationId with class [org.springframework.boot.logging.logback.CorrelationIdConverter]
19:07:45,560 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word wex with class [org.springframework.boot.logging.logback.WhitespaceThrowableProxyConverter]
19:07:45,560 |-INFO in ch.qos.logback.core.model.processor.ConversionRuleModelHandler - registering conversion word wEx with class [org.springframework.boot.logging.logback.ExtendedWhitespaceThrowableProxyConverter]
19:07:45,561 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "%d{yyyy-MM-dd HH:mm:ss} - %msg%n" substituted for "${CONSOLE_LOG_PATTERN:-%clr(%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd'T'HH:mm:ss.SSSXXX}}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr(%applicationName[%15.15t]){faint} %clr(${LOG_CORRELATION_PATTERN:-}){faint}%clr(%-40.40logger{39}){cyan} %clr(:){faint} %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}"
19:07:45,561 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "UTF-8" substituted for "${CONSOLE_LOG_CHARSET:-${file.encoding:-UTF-8}}"
19:07:45,561 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "TRACE" substituted for "${CONSOLE_LOG_THRESHOLD:-TRACE}"
19:07:45,561 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n" substituted for "${FILE_LOG_PATTERN:-%d{${LOG_DATEFORMAT_PATTERN:-yyyy-MM-dd'T'HH:mm:ss.SSSXXX}} ${LOG_LEVEL_PATTERN:-%5p} ${PID:- } --- %applicationName[%t] ${LOG_CORRELATION_PATTERN:-}%-40.40logger{39} : %m%n${LOG_EXCEPTION_CONVERSION_WORD:-%wEx}}"
19:07:45,561 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "UTF-8" substituted for "${FILE_LOG_CHARSET:-${file.encoding:-UTF-8}}"
19:07:45,561 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "TRACE" substituted for "${FILE_LOG_THRESHOLD:-TRACE}"
19:07:45,563 |-WARN in ch.qos.logback.core.model.processor.ImplicitModelHandler - Ignoring unknown property [jmxConfigurator] in [ch.qos.logback.classic.LoggerContext]
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.apache.catalina.startup.DigesterFactory] to ERROR
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating ERROR level on Logger[org.apache.catalina.startup.DigesterFactory] onto the JUL framework
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.apache.catalina.util.LifecycleBase] to ERROR
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating ERROR level on Logger[org.apache.catalina.util.LifecycleBase] onto the JUL framework
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.apache.coyote.http11.Http11NioProtocol] to WARN
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[org.apache.coyote.http11.Http11NioProtocol] onto the JUL framework
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.apache.sshd.common.util.SecurityUtils] to WARN
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[org.apache.sshd.common.util.SecurityUtils] onto the JUL framework
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.apache.tomcat.util.net.NioSelectorPool] to WARN
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[org.apache.tomcat.util.net.NioSelectorPool] onto the JUL framework
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.eclipse.jetty.util.component.AbstractLifeCycle] to ERROR
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating ERROR level on Logger[org.eclipse.jetty.util.component.AbstractLifeCycle] onto the JUL framework
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.hibernate.validator.internal.util.Version] to WARN
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[org.hibernate.validator.internal.util.Version] onto the JUL framework
19:07:45,563 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.springframework.boot.actuate.endpoint.jmx] to WARN
19:07:45,563 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[org.springframework.boot.actuate.endpoint.jmx] onto the JUL framework
19:07:45,564 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [CONSOLE]
19:07:45,564 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]
19:07:45,565 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(%5p) %clr(69083){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} [%X{correlationId:-}] %m%n%wEx" substituted for "%clr(%d{yyyy-MM-dd HH:mm:ss.SSS}){faint} %clr(${LOG_LEVEL_PATTERN:-%5p}) %clr(${PID:- }){magenta} %clr(---){faint} %clr([%15.15t]){faint} %clr(%-40.40logger{39}){cyan} %clr(:){faint} [%X{correlationId:-}] %m%n%wEx"
19:07:45,570 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [FILE]
19:07:45,570 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
19:07:45,570 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend.log" substituted for "${LOG_FILE}.log"
19:07:45,571 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend.%d{yyyy-MM-dd}.%i.log.gz" substituted for "${LOG_FILE}.%d{yyyy-MM-dd}.%i.log.gz"
19:07:45,573 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@519978568 - setting totalSizeCap to 1 GB
19:07:45,574 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@519978568 - Will use gz compression
19:07:45,574 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@519978568 - Will use the pattern logs/cafm-backend.%d{yyyy-MM-dd}.%i.log for the active file
19:07:45,582 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@b478237 - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/cafm-backend.%d{yyyy-MM-dd}.%i.log.gz'.
19:07:45,582 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@b478237 - Roll-over at midnight.
19:07:45,584 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@b478237 - Setting initial period to 2025-08-23T16:07:44.964Z
19:07:45,584 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@b478237 - SizeAndTimeBasedFNATP is deprecated. Use SizeAndTimeBasedRollingPolicy instead
19:07:45,584 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@b478237 - For more information see http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy
19:07:45,585 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@519978568 - Cleaning on start up
19:07:45,587 |-INFO in c.q.l.core.rolling.helper.TimeBasedArchiveRemover - first clean up after appender initialization
19:07:45,587 |-INFO in c.q.l.core.rolling.helper.TimeBasedArchiveRemover - Multiple periods, i.e. 32 periods, seem to have elapsed. This is expected at application start.
19:07:45,587 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - Active log file name: logs/cafm-backend.log
19:07:45,587 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[FILE] - File property is set to [logs/cafm-backend.log]
19:07:45,587 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [ERROR_FILE]
19:07:45,587 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
19:07:45,587 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend-error.log" substituted for "${LOG_FILE}-error.log"
19:07:45,588 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend-error.%d{yyyy-MM-dd}.%i.log.gz" substituted for "${LOG_FILE}-error.%d{yyyy-MM-dd}.%i.log.gz"
19:07:45,588 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1812257972 - setting totalSizeCap to 500 MB
19:07:45,589 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1812257972 - Will use gz compression
19:07:45,589 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1812257972 - Will use the pattern logs/cafm-backend-error.%d{yyyy-MM-dd}.%i.log for the active file
19:07:45,589 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@1dfbde7b - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/cafm-backend-error.%d{yyyy-MM-dd}.%i.log.gz'.
19:07:45,589 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@1dfbde7b - Roll-over at midnight.
19:07:45,589 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@1dfbde7b - Setting initial period to 2025-08-23T16:07:07.786Z
19:07:45,589 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@1dfbde7b - SizeAndTimeBasedFNATP is deprecated. Use SizeAndTimeBasedRollingPolicy instead
19:07:45,589 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@1dfbde7b - For more information see http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy
19:07:45,589 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[ERROR_FILE] - Active log file name: logs/cafm-backend-error.log
19:07:45,589 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[ERROR_FILE] - File property is set to [logs/cafm-backend-error.log]
19:07:45,589 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [SECURITY_AUDIT]
19:07:45,589 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
19:07:45,589 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend-security.log" substituted for "${LOG_FILE}-security.log"
19:07:45,589 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend-security.%d{yyyy-MM-dd}.%i.log.gz" substituted for "${LOG_FILE}-security.%d{yyyy-MM-dd}.%i.log.gz"
19:07:45,589 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1922613234 - setting totalSizeCap to 500 MB
19:07:45,589 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1922613234 - Will use gz compression
19:07:45,590 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@1922613234 - Will use the pattern logs/cafm-backend-security.%d{yyyy-MM-dd}.%i.log for the active file
19:07:45,590 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4579cdac - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/cafm-backend-security.%d{yyyy-MM-dd}.%i.log.gz'.
19:07:45,590 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4579cdac - Roll-over at midnight.
19:07:45,590 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4579cdac - Setting initial period to 2025-08-23T16:07:19.749Z
19:07:45,590 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4579cdac - SizeAndTimeBasedFNATP is deprecated. Use SizeAndTimeBasedRollingPolicy instead
19:07:45,590 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4579cdac - For more information see http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy
19:07:45,590 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[SECURITY_AUDIT] - Active log file name: logs/cafm-backend-security.log
19:07:45,590 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[SECURITY_AUDIT] - File property is set to [logs/cafm-backend-security.log]
19:07:45,590 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [PERFORMANCE]
19:07:45,590 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.core.rolling.RollingFileAppender]
19:07:45,590 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend-performance.log" substituted for "${LOG_FILE}-performance.log"
19:07:45,590 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "logs/cafm-backend-performance.%d{yyyy-MM-dd}.%i.log.gz" substituted for "${LOG_FILE}-performance.%d{yyyy-MM-dd}.%i.log.gz"
19:07:45,590 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@265443531 - setting totalSizeCap to 300 MB
19:07:45,590 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@265443531 - Will use gz compression
19:07:45,590 |-INFO in c.q.l.core.rolling.TimeBasedRollingPolicy@265443531 - Will use the pattern logs/cafm-backend-performance.%d{yyyy-MM-dd}.%i.log for the active file
19:07:45,591 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4c99574c - The date pattern is 'yyyy-MM-dd' from file name pattern 'logs/cafm-backend-performance.%d{yyyy-MM-dd}.%i.log.gz'.
19:07:45,591 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4c99574c - Roll-over at midnight.
19:07:45,591 |-INFO in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4c99574c - Setting initial period to 2025-08-22T00:32:02.647Z
19:07:45,591 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4c99574c - SizeAndTimeBasedFNATP is deprecated. Use SizeAndTimeBasedRollingPolicy instead
19:07:45,591 |-WARN in ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP@4c99574c - For more information see http://logback.qos.ch/manual/appenders.html#SizeAndTimeBasedRollingPolicy
19:07:45,591 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[PERFORMANCE] - Active log file name: logs/cafm-backend-performance.log
19:07:45,591 |-INFO in ch.qos.logback.core.rolling.RollingFileAppender[PERFORMANCE] - File property is set to [logs/cafm-backend-performance.log]
19:07:45,591 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [ASYNC_FILE]
19:07:45,591 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.classic.AsyncAppender]
19:07:45,591 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [FILE] to ch.qos.logback.classic.AsyncAppender[ASYNC_FILE]
19:07:45,591 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_FILE] - Attaching appender named [FILE] to AsyncAppender.
19:07:45,591 |-INFO in c.q.l.core.rolling.helper.TimeBasedArchiveRemover - No removal attempts were made.
19:07:45,592 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_FILE] - Setting discardingThreshold to 20
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - Processing appender named [ASYNC_ERROR]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderModelHandler - About to instantiate appender of type [ch.qos.logback.classic.AsyncAppender]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ERROR_FILE] to ch.qos.logback.classic.AsyncAppender[ASYNC_ERROR]
19:07:45,592 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_ERROR] - Attaching appender named [ERROR_FILE] to AsyncAppender.
19:07:45,592 |-INFO in ch.qos.logback.classic.AsyncAppender[ASYNC_ERROR] - Setting discardingThreshold to 0
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "DEBUG" substituted for "${LOG_LEVEL_APP}"
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [com.cafm.cafmbackend] to DEBUG
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating DEBUG level on Logger[com.cafm.cafmbackend] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting additivity of logger [com.cafm.cafmbackend] to false
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [CONSOLE] to Logger[com.cafm.cafmbackend]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE] to Logger[com.cafm.cafmbackend]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_ERROR] to Logger[com.cafm.cafmbackend]
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [com.cafm.cafmbackend.security] to INFO
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[com.cafm.cafmbackend.security] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting additivity of logger [com.cafm.cafmbackend.security] to false
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [SECURITY_AUDIT] to Logger[com.cafm.cafmbackend.security]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE] to Logger[com.cafm.cafmbackend.security]
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [com.cafm.cafmbackend.performance] to INFO
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[com.cafm.cafmbackend.performance] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting additivity of logger [com.cafm.cafmbackend.performance] to false
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [PERFORMANCE] to Logger[com.cafm.cafmbackend.performance]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE] to Logger[com.cafm.cafmbackend.performance]
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.hibernate.SQL] to DEBUG
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating DEBUG level on Logger[org.hibernate.SQL] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting additivity of logger [org.hibernate.SQL] to false
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [CONSOLE] to Logger[org.hibernate.SQL]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE] to Logger[org.hibernate.SQL]
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.hibernate.type.descriptor.sql.BasicBinder] to TRACE
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating TRACE level on Logger[org.hibernate.type.descriptor.sql.BasicBinder] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting additivity of logger [org.hibernate.type.descriptor.sql.BasicBinder] to false
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [CONSOLE] to Logger[org.hibernate.type.descriptor.sql.BasicBinder]
19:07:45,592 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE] to Logger[org.hibernate.type.descriptor.sql.BasicBinder]
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.springframework.web] to INFO
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[org.springframework.web] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.springframework.security] to INFO
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[org.springframework.security] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.springframework.boot.actuator] to INFO
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[org.springframework.boot.actuator] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.springframework.security.web.FilterChainProxy] to DEBUG
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating DEBUG level on Logger[org.springframework.security.web.FilterChainProxy] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.springframework.security.web.authentication] to DEBUG
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating DEBUG level on Logger[org.springframework.security.web.authentication] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.springframework.security.web.access] to DEBUG
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating DEBUG level on Logger[org.springframework.security.web.access] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [io.micrometer] to INFO
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[io.micrometer] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.apache.tomcat] to WARN
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[org.apache.tomcat] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.apache.catalina] to WARN
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[org.apache.catalina] onto the JUL framework
19:07:45,592 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [com.zaxxer.hikari] to WARN
19:07:45,592 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[com.zaxxer.hikari] onto the JUL framework
19:07:45,593 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [redis.clients.jedis] to WARN
19:07:45,593 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[redis.clients.jedis] onto the JUL framework
19:07:45,593 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [io.lettuce.core] to WARN
19:07:45,593 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating WARN level on Logger[io.lettuce.core] onto the JUL framework
19:07:45,593 |-INFO in ch.qos.logback.classic.model.processor.LoggerModelHandler - Setting level of logger [org.flywaydb] to INFO
19:07:45,593 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[org.flywaydb] onto the JUL framework
19:07:45,593 |-INFO in ch.qos.logback.core.model.processor.ModelInterpretationContext@fceb00 - value "INFO" substituted for "${LOG_LEVEL_ROOT}"
19:07:45,593 |-INFO in ch.qos.logback.classic.model.processor.RootLoggerModelHandler - Setting level of ROOT logger to INFO
19:07:45,593 |-INFO in ch.qos.logback.classic.jul.LevelChangePropagator@5284714e - Propagating INFO level on Logger[ROOT] onto the JUL framework
19:07:45,593 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [CONSOLE] to Logger[ROOT]
19:07:45,593 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_FILE] to Logger[ROOT]
19:07:45,593 |-INFO in ch.qos.logback.core.model.processor.AppenderRefModelHandler - Attaching appender named [ASYNC_ERROR] to Logger[ROOT]
19:07:45,593 |-INFO in ch.qos.logback.core.model.processor.DefaultProcessor@7bc91602 - End of configuration.
19:07:45,593 |-INFO in org.springframework.boot.logging.logback.SpringBootJoranConfigurator@7056a07a - Registering current configuration as safe fallback point


  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/

 :: Spring Boot ::                (v3.3.3)

2025-08-23 19:07:45.619  INFO 69083 --- [  restartedMain] c.c.cafmbackend.CafmBackendApplication   : [] Starting CafmBackendApplication using Java 24.0.2 with PID 69083 (/Users/omar/Developer/CAFM/cafm-backend/target/classes started by omar in /Users/omar/Developer/CAFM/cafm-backend)
2025-08-23 19:07:45.620 DEBUG 69083 --- [  restartedMain] c.c.cafmbackend.CafmBackendApplication   : [] Running with Spring Boot v3.3.3, Spring v6.1.12
2025-08-23 19:07:45.620  INFO 69083 --- [  restartedMain] c.c.cafmbackend.CafmBackendApplication   : [] The following 1 profile is active: "dev"
2025-08-23 19:07:45.637  INFO 69083 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : [] Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-23 19:07:45.637  INFO 69083 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : [] For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-23 19:07:46.043  INFO 69083 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : [] Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-23 19:07:46.044  INFO 69083 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : [] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-23 19:07:46.293  INFO 69083 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : [] Finished Spring Data repository scanning in 244 ms. Found 31 JPA repository interfaces.
2025-08-23 19:07:46.680  INFO 69083 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : [] Multiple Spring Data modules found, entering strict repository configuration mode
2025-08-23 19:07:46.681  INFO 69083 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : [] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-08-23 19:07:46.723  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.AdminSupervisorRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.723  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.ApiKeyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.723  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.AssetCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.724  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.AssetMaintenanceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.724  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.AssetRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.724  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.AuditLogRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.724  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.CompanyRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.725  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.DamageCountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.725  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.EmailVerificationTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.725  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.FCMTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.725  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.FileMetadataRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.725  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.InventoryCategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.726  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.InventoryItemRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.727  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.InventoryTransactionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.727  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.MaintenanceCountRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.727  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.NotificationQueueRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.727  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.NotificationRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.728  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.PasswordResetTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.728  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.RefreshTokenRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.729  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.ReportRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.729  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.SchoolAchievementRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.729  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.SchoolRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.729  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.SupervisorAttendanceRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.729  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.SupervisorSchoolRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.729  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.SupervisorTechnicianRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.729  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.TenantAwareUserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.730  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.UserRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.730  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.WorkOrderAttachmentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.730  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.WorkOrderMaterialRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.730  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.WorkOrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.730  INFO 69083 --- [  restartedMain] .RepositoryConfigurationExtensionSupport : [] Spring Data Redis - Could not safely identify store assignment for repository candidate interface com.cafm.cafmbackend.data.repository.WorkOrderTaskRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-08-23 19:07:46.730  INFO 69083 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : [] Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
WARNING: A restricted method in java.lang.System has been called
WARNING: java.lang.System::load has been called by org.apache.tomcat.jni.Library in an unnamed module (file:/Users/omar/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/10.1.28/tomcat-embed-core-10.1.28.jar)
WARNING: Use --enable-native-access=ALL-UNNAMED to avoid a warning for callers in this module
WARNING: Restricted methods will be blocked in a future release unless native access is enabled

2025-08-23 19:07:47.789  INFO 69083 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : [] Tomcat initialized with port 8080 (http)
2025-08-23 19:07:47.841  INFO 69083 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : [] Root WebApplicationContext: initialization completed in 2204 ms
Standard Commons Logging discovery in action with spring-jcl: please remove commons-logging.jar from classpath in order to avoid potential conflicts
2025-08-23 19:07:48.969 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Scanning for classpath resources at 'classpath:db/callback' ...
2025-08-23 19:07:48.970 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Determining location urls for classpath:db/callback using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
org.springframework.boot.devtools.restart.classloader.RestartClassLoader@616cf379
 ...
2025-08-23 19:07:48.970 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Unable to resolve location classpath:db/callback.
2025-08-23 19:07:48.970 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Scanning for classpath resources at 'classpath:db/migration' ...
2025-08-23 19:07:48.970 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Determining location urls for classpath:db/migration using ClassLoader TomcatEmbeddedWebappClassLoader
  context: ROOT
  delegate: true
----------> Parent Classloader:
org.springframework.boot.devtools.restart.classloader.RestartClassLoader@616cf379
 ...
2025-08-23 19:07:48.970 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Scanning URL: file:/Users/omar/Developer/CAFM/cafm-backend/target/classes/db/migration
2025-08-23 19:07:48.971 DEBUG 69083 --- [  restartedMain] i.s.c.FileSystemClassPathLocationScanner : [] Scanning starting at classpath root in filesystem: /Users/omar/Developer/CAFM/cafm-backend/target/classes/
2025-08-23 19:07:48.972 DEBUG 69083 --- [  restartedMain] i.s.c.FileSystemClassPathLocationScanner : [] Scanning for resources in path: /Users/omar/Developer/CAFM/cafm-backend/target/classes/db/migration (db/migration)
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V100__Fix_Admin_Password.sql
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V101__Debug_Admin_Password.sql
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V102__Fix_Admin_User_Type.sql
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V103__Generate_New_Hash.sql
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V104__Add_Super_Admin_Role.sql
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V105__Fix_Company_Status_Enum_Values.sql
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V106__Fix_User_Status_Enum_Simple.sql
2025-08-23 19:07:48.974 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V107__Fix_All_Enum_Types_Comprehensive.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V108__Email_Verification_System.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V109__Password_Reset_Tokens.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V10__Add_Technician_Specialization.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V110__Add_Audit_Columns_To_Tokens.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V111__Performance_Indexes.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V112__Security_Tables.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V113__add_user_security_fields.sql
2025-08-23 19:07:48.975 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V114__fix_users_history_table.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V115__Create_Core_Missing_Enums_And_WorkOrders.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V116__Create_Asset_Management_Tables.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V117__Create_WorkOrder_Supporting_Tables.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V118__Create_Inventory_Management_Tables.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V119__Create_Notifications_And_User_Management_Tables.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V11__Create_Supervisor_Technician_Table.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V120__Final_Performance_Optimization_And_Validation.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V121__Add_last_login_ip_column.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V122__Add_test_assets_inventory.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V123__Add_soft_delete_columns.sql
2025-08-23 19:07:48.976 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V124__Fix_asset_categories_columns.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V125__Fix_inventory_categories_columns.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V126__add_performance_indexes.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V12__Create_Admin_Supervisor_Table.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V13__Add_Multi_Tenant_Foundation.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V14__Database_Optimization_Phase1.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V15__Update_Views_For_Multi_Tenancy.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V16__Create_Or_Update_Maintenance_Counts_Table.sql
2025-08-23 19:07:48.977 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V17__Create_Damage_Counts_Table.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V18__Create_School_Achievements_Table.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V19__Create_Notification_Queue_Table.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V1__Initial_Schema.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V200__Add_CompanyId_To_All_Tables.sql.disabled
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V201__Fix_Multi_Tenant_Constraints.sql.disabled
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V20__Update_Reports_Table_Completion_Workflow.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V21__Add_Missing_Audit_Columns.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V22__Add_Audit_Columns_To_Roles_Table.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V2__Update_Schema_From_Supabase.sql
2025-08-23 19:07:48.978 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V3__Unified_User_Management.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V4__Normalize_JSONB_Fields.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V5__Performance_Optimizations.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V6__Data_Integrity_Improvements.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V7__Comprehensive_Audit_System.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V8__Soft_Delete_Implementation.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V99__Update_Admin_Password.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Found resource: db/migration/V9__Advanced_Features.sql
2025-08-23 19:07:48.979 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.classpath.ClassPathScanner     : [] Scanning for classes at classpath:db/migration
2025-08-23 19:07:48.982 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V201__Fix_Multi_Tenant_Constraints.sql.disabled (filename: V201__Fix_Multi_Tenant_Constraints.sql.disabled)
2025-08-23 19:07:48.982 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V200__Add_CompanyId_To_All_Tables.sql.disabled (filename: V200__Add_CompanyId_To_All_Tables.sql.disabled)
2025-08-23 19:07:48.982 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V19__Create_Notification_Queue_Table.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V20__Update_Reports_Table_Completion_Workflow.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V11__Create_Supervisor_Technician_Table.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V10__Add_Technician_Specialization.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V109__Password_Reset_Tokens.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V3__Unified_User_Management.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V99__Update_Admin_Password.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V117__Create_WorkOrder_Supporting_Tables.sql
2025-08-23 19:07:49.028 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V102__Fix_Admin_User_Type.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V119__Create_Notifications_And_User_Management_Tables.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V108__Email_Verification_System.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V22__Add_Audit_Columns_To_Roles_Table.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V111__Performance_Indexes.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V112__Security_Tables.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V122__Add_test_assets_inventory.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V8__Soft_Delete_Implementation.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V125__Fix_inventory_categories_columns.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V104__Add_Super_Admin_Role.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V115__Create_Core_Missing_Enums_And_WorkOrders.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V120__Final_Performance_Optimization_And_Validation.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V118__Create_Inventory_Management_Tables.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V6__Data_Integrity_Improvements.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V17__Create_Damage_Counts_Table.sql
2025-08-23 19:07:49.029 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V13__Add_Multi_Tenant_Foundation.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V105__Fix_Company_Status_Enum_Values.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V100__Fix_Admin_Password.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V15__Update_Views_For_Multi_Tenancy.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V103__Generate_New_Hash.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V121__Add_last_login_ip_column.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V114__fix_users_history_table.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V126__add_performance_indexes.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V2__Update_Schema_From_Supabase.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V4__Normalize_JSONB_Fields.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V9__Advanced_Features.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V101__Debug_Admin_Password.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V18__Create_School_Achievements_Table.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V5__Performance_Optimizations.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V107__Fix_All_Enum_Types_Comprehensive.sql
2025-08-23 19:07:49.030 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V113__add_user_security_fields.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V14__Database_Optimization_Phase1.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V110__Add_Audit_Columns_To_Tokens.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V12__Create_Admin_Supervisor_Table.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V16__Create_Or_Update_Maintenance_Counts_Table.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V116__Create_Asset_Management_Tables.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V1__Initial_Schema.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V123__Add_soft_delete_columns.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V21__Add_Missing_Audit_Columns.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V124__Fix_asset_categories_columns.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V106__Fix_User_Status_Enum_Simple.sql
2025-08-23 19:07:49.031 DEBUG 69083 --- [  restartedMain] o.f.c.i.resource.ResourceNameValidator   : [] Validating V7__Comprehensive_Audit_System.sql
2025-08-23 19:07:49.035 DEBUG 69083 --- [  restartedMain] o.f.c.i.database.DatabaseTypeRegister    : [] Multiple databases found that handle url 'jdbc:postgresql://localhost:5432/cafm_db': CockroachDB,PostgreSQL
2025-08-23 19:07:49.035  INFO 69083 --- [  restartedMain] org.flywaydb.core.FlywayExecutor         : [] Database: jdbc:postgresql://localhost:5432/cafm_db (PostgreSQL 15.13)
2025-08-23 19:07:49.035 DEBUG 69083 --- [  restartedMain] org.flywaydb.core.FlywayExecutor         : [] Database Type: PostgreSQL
2025-08-23 19:07:49.035 DEBUG 69083 --- [  restartedMain] org.flywaydb.core.FlywayExecutor         : [] Driver: PostgreSQL JDBC Driver 42.7.3
2025-08-23 19:07:49.035 DEBUG 69083 --- [  restartedMain] org.flywaydb.core.FlywayExecutor         : [] DDL Transactions Supported: true
2025-08-23 19:07:49.036 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.SchemaHistoryFactory           : [] Schemas: public
2025-08-23 19:07:49.036 DEBUG 69083 --- [  restartedMain] o.f.c.i.s.SchemaHistoryFactory           : [] Default schema: null
2025-08-23 19:07:49.107 DEBUG 69083 --- [  restartedMain] o.f.c.i.c.SqlScriptCallbackFactory       : [] Scanning for SQL callbacks ...
2025-08-23 19:07:49.107 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V201__Fix_Multi_Tenant_Constraints.sql.disabled (filename: V201__Fix_Multi_Tenant_Constraints.sql.disabled)
2025-08-23 19:07:49.107 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V200__Add_CompanyId_To_All_Tables.sql.disabled (filename: V200__Add_CompanyId_To_All_Tables.sql.disabled)
2025-08-23 19:07:49.201 DEBUG 69083 --- [  restartedMain] o.f.core.internal.command.DbValidate     : [] Validating migrations ...
2025-08-23 19:07:49.202 DEBUG 69083 --- [  restartedMain] o.f.c.a.c.ClassicConfiguration           : [] CherryPickConfigurationExtension not found
2025-08-23 19:07:49.203 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V201__Fix_Multi_Tenant_Constraints.sql.disabled (filename: V201__Fix_Multi_Tenant_Constraints.sql.disabled)
2025-08-23 19:07:49.203 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V200__Add_CompanyId_To_All_Tables.sql.disabled (filename: V200__Add_CompanyId_To_All_Tables.sql.disabled)
2025-08-23 19:07:49.354 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V19__Create_Notification_Queue_Table.sql (filename: V19__Create_Notification_Queue_Table.sql)
2025-08-23 19:07:49.354 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V20__Update_Reports_Table_Completion_Workflow.sql (filename: V20__Update_Reports_Table_Completion_Workflow.sql)
2025-08-23 19:07:49.354 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V11__Create_Supervisor_Technician_Table.sql (filename: V11__Create_Supervisor_Technician_Table.sql)
2025-08-23 19:07:49.355 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V10__Add_Technician_Specialization.sql (filename: V10__Add_Technician_Specialization.sql)
2025-08-23 19:07:49.355 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V109__Password_Reset_Tokens.sql (filename: V109__Password_Reset_Tokens.sql)
2025-08-23 19:07:49.356 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V3__Unified_User_Management.sql (filename: V3__Unified_User_Management.sql)
2025-08-23 19:07:49.356 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V99__Update_Admin_Password.sql (filename: V99__Update_Admin_Password.sql)
2025-08-23 19:07:49.356 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V117__Create_WorkOrder_Supporting_Tables.sql (filename: V117__Create_WorkOrder_Supporting_Tables.sql)
2025-08-23 19:07:49.356 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V102__Fix_Admin_User_Type.sql (filename: V102__Fix_Admin_User_Type.sql)
2025-08-23 19:07:49.356 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V119__Create_Notifications_And_User_Management_Tables.sql (filename: V119__Create_Notifications_And_User_Management_Tables.sql)
2025-08-23 19:07:49.357 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V108__Email_Verification_System.sql (filename: V108__Email_Verification_System.sql)
2025-08-23 19:07:49.357 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V22__Add_Audit_Columns_To_Roles_Table.sql (filename: V22__Add_Audit_Columns_To_Roles_Table.sql)
2025-08-23 19:07:49.357 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V111__Performance_Indexes.sql (filename: V111__Performance_Indexes.sql)
2025-08-23 19:07:49.358 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V201__Fix_Multi_Tenant_Constraints.sql.disabled (filename: V201__Fix_Multi_Tenant_Constraints.sql.disabled)
2025-08-23 19:07:49.358 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V112__Security_Tables.sql (filename: V112__Security_Tables.sql)
2025-08-23 19:07:49.359 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V122__Add_test_assets_inventory.sql (filename: V122__Add_test_assets_inventory.sql)
2025-08-23 19:07:49.359 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V8__Soft_Delete_Implementation.sql (filename: V8__Soft_Delete_Implementation.sql)
2025-08-23 19:07:49.359 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V125__Fix_inventory_categories_columns.sql (filename: V125__Fix_inventory_categories_columns.sql)
2025-08-23 19:07:49.359 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V104__Add_Super_Admin_Role.sql (filename: V104__Add_Super_Admin_Role.sql)
2025-08-23 19:07:49.359 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V115__Create_Core_Missing_Enums_And_WorkOrders.sql (filename: V115__Create_Core_Missing_Enums_And_WorkOrders.sql)
2025-08-23 19:07:49.359 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V120__Final_Performance_Optimization_And_Validation.sql (filename: V120__Final_Performance_Optimization_And_Validation.sql)
2025-08-23 19:07:49.359 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V118__Create_Inventory_Management_Tables.sql (filename: V118__Create_Inventory_Management_Tables.sql)
2025-08-23 19:07:49.360 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V6__Data_Integrity_Improvements.sql (filename: V6__Data_Integrity_Improvements.sql)
2025-08-23 19:07:49.360 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V17__Create_Damage_Counts_Table.sql (filename: V17__Create_Damage_Counts_Table.sql)
2025-08-23 19:07:49.360 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V13__Add_Multi_Tenant_Foundation.sql (filename: V13__Add_Multi_Tenant_Foundation.sql)
2025-08-23 19:07:49.360 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V105__Fix_Company_Status_Enum_Values.sql (filename: V105__Fix_Company_Status_Enum_Values.sql)
2025-08-23 19:07:49.360 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V100__Fix_Admin_Password.sql (filename: V100__Fix_Admin_Password.sql)
2025-08-23 19:07:49.360 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V15__Update_Views_For_Multi_Tenancy.sql (filename: V15__Update_Views_For_Multi_Tenancy.sql)
2025-08-23 19:07:49.360 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V103__Generate_New_Hash.sql (filename: V103__Generate_New_Hash.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V121__Add_last_login_ip_column.sql (filename: V121__Add_last_login_ip_column.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V114__fix_users_history_table.sql (filename: V114__fix_users_history_table.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V126__add_performance_indexes.sql (filename: V126__add_performance_indexes.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V2__Update_Schema_From_Supabase.sql (filename: V2__Update_Schema_From_Supabase.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V4__Normalize_JSONB_Fields.sql (filename: V4__Normalize_JSONB_Fields.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V200__Add_CompanyId_To_All_Tables.sql.disabled (filename: V200__Add_CompanyId_To_All_Tables.sql.disabled)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V9__Advanced_Features.sql (filename: V9__Advanced_Features.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V101__Debug_Admin_Password.sql (filename: V101__Debug_Admin_Password.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V18__Create_School_Achievements_Table.sql (filename: V18__Create_School_Achievements_Table.sql)
2025-08-23 19:07:49.361 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V5__Performance_Optimizations.sql (filename: V5__Performance_Optimizations.sql)
2025-08-23 19:07:49.362 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V107__Fix_All_Enum_Types_Comprehensive.sql (filename: V107__Fix_All_Enum_Types_Comprehensive.sql)
2025-08-23 19:07:49.363 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V113__add_user_security_fields.sql (filename: V113__add_user_security_fields.sql)
2025-08-23 19:07:49.364 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V14__Database_Optimization_Phase1.sql (filename: V14__Database_Optimization_Phase1.sql)
2025-08-23 19:07:49.365 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V110__Add_Audit_Columns_To_Tokens.sql (filename: V110__Add_Audit_Columns_To_Tokens.sql)
2025-08-23 19:07:49.365 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V12__Create_Admin_Supervisor_Table.sql (filename: V12__Create_Admin_Supervisor_Table.sql)
2025-08-23 19:07:49.365 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V16__Create_Or_Update_Maintenance_Counts_Table.sql (filename: V16__Create_Or_Update_Maintenance_Counts_Table.sql)
2025-08-23 19:07:49.365 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V116__Create_Asset_Management_Tables.sql (filename: V116__Create_Asset_Management_Tables.sql)
2025-08-23 19:07:49.365 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V1__Initial_Schema.sql (filename: V1__Initial_Schema.sql)
2025-08-23 19:07:49.366 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V123__Add_soft_delete_columns.sql (filename: V123__Add_soft_delete_columns.sql)
2025-08-23 19:07:49.366 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V21__Add_Missing_Audit_Columns.sql (filename: V21__Add_Missing_Audit_Columns.sql)
2025-08-23 19:07:49.366 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V124__Fix_asset_categories_columns.sql (filename: V124__Fix_asset_categories_columns.sql)
2025-08-23 19:07:49.366 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V106__Fix_User_Status_Enum_Simple.sql (filename: V106__Fix_User_Status_Enum_Simple.sql)
2025-08-23 19:07:49.366 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V7__Comprehensive_Audit_System.sql (filename: V7__Comprehensive_Audit_System.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V19__Create_Notification_Queue_Table.sql (filename: V19__Create_Notification_Queue_Table.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V20__Update_Reports_Table_Completion_Workflow.sql (filename: V20__Update_Reports_Table_Completion_Workflow.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V11__Create_Supervisor_Technician_Table.sql (filename: V11__Create_Supervisor_Technician_Table.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V10__Add_Technician_Specialization.sql (filename: V10__Add_Technician_Specialization.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V109__Password_Reset_Tokens.sql (filename: V109__Password_Reset_Tokens.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V3__Unified_User_Management.sql (filename: V3__Unified_User_Management.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V99__Update_Admin_Password.sql (filename: V99__Update_Admin_Password.sql)
2025-08-23 19:07:49.368 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V117__Create_WorkOrder_Supporting_Tables.sql (filename: V117__Create_WorkOrder_Supporting_Tables.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V102__Fix_Admin_User_Type.sql (filename: V102__Fix_Admin_User_Type.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V119__Create_Notifications_And_User_Management_Tables.sql (filename: V119__Create_Notifications_And_User_Management_Tables.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V108__Email_Verification_System.sql (filename: V108__Email_Verification_System.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V22__Add_Audit_Columns_To_Roles_Table.sql (filename: V22__Add_Audit_Columns_To_Roles_Table.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V111__Performance_Indexes.sql (filename: V111__Performance_Indexes.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V201__Fix_Multi_Tenant_Constraints.sql.disabled (filename: V201__Fix_Multi_Tenant_Constraints.sql.disabled)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V112__Security_Tables.sql (filename: V112__Security_Tables.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V122__Add_test_assets_inventory.sql (filename: V122__Add_test_assets_inventory.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V8__Soft_Delete_Implementation.sql (filename: V8__Soft_Delete_Implementation.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V125__Fix_inventory_categories_columns.sql (filename: V125__Fix_inventory_categories_columns.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V104__Add_Super_Admin_Role.sql (filename: V104__Add_Super_Admin_Role.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V115__Create_Core_Missing_Enums_And_WorkOrders.sql (filename: V115__Create_Core_Missing_Enums_And_WorkOrders.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V120__Final_Performance_Optimization_And_Validation.sql (filename: V120__Final_Performance_Optimization_And_Validation.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V118__Create_Inventory_Management_Tables.sql (filename: V118__Create_Inventory_Management_Tables.sql)
2025-08-23 19:07:49.369 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V6__Data_Integrity_Improvements.sql (filename: V6__Data_Integrity_Improvements.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V17__Create_Damage_Counts_Table.sql (filename: V17__Create_Damage_Counts_Table.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V13__Add_Multi_Tenant_Foundation.sql (filename: V13__Add_Multi_Tenant_Foundation.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V105__Fix_Company_Status_Enum_Values.sql (filename: V105__Fix_Company_Status_Enum_Values.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V100__Fix_Admin_Password.sql (filename: V100__Fix_Admin_Password.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V15__Update_Views_For_Multi_Tenancy.sql (filename: V15__Update_Views_For_Multi_Tenancy.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V103__Generate_New_Hash.sql (filename: V103__Generate_New_Hash.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V121__Add_last_login_ip_column.sql (filename: V121__Add_last_login_ip_column.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V114__fix_users_history_table.sql (filename: V114__fix_users_history_table.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V126__add_performance_indexes.sql (filename: V126__add_performance_indexes.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V2__Update_Schema_From_Supabase.sql (filename: V2__Update_Schema_From_Supabase.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V4__Normalize_JSONB_Fields.sql (filename: V4__Normalize_JSONB_Fields.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V200__Add_CompanyId_To_All_Tables.sql.disabled (filename: V200__Add_CompanyId_To_All_Tables.sql.disabled)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V9__Advanced_Features.sql (filename: V9__Advanced_Features.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V101__Debug_Admin_Password.sql (filename: V101__Debug_Admin_Password.sql)
2025-08-23 19:07:49.370 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V18__Create_School_Achievements_Table.sql (filename: V18__Create_School_Achievements_Table.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V5__Performance_Optimizations.sql (filename: V5__Performance_Optimizations.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V107__Fix_All_Enum_Types_Comprehensive.sql (filename: V107__Fix_All_Enum_Types_Comprehensive.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V113__add_user_security_fields.sql (filename: V113__add_user_security_fields.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V14__Database_Optimization_Phase1.sql (filename: V14__Database_Optimization_Phase1.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V110__Add_Audit_Columns_To_Tokens.sql (filename: V110__Add_Audit_Columns_To_Tokens.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V12__Create_Admin_Supervisor_Table.sql (filename: V12__Create_Admin_Supervisor_Table.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V16__Create_Or_Update_Maintenance_Counts_Table.sql (filename: V16__Create_Or_Update_Maintenance_Counts_Table.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V116__Create_Asset_Management_Tables.sql (filename: V116__Create_Asset_Management_Tables.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V1__Initial_Schema.sql (filename: V1__Initial_Schema.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V123__Add_soft_delete_columns.sql (filename: V123__Add_soft_delete_columns.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V21__Add_Missing_Audit_Columns.sql (filename: V21__Add_Missing_Audit_Columns.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V124__Fix_asset_categories_columns.sql (filename: V124__Fix_asset_categories_columns.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V106__Fix_User_Status_Enum_Simple.sql (filename: V106__Fix_User_Status_Enum_Simple.sql)
2025-08-23 19:07:49.371 DEBUG 69083 --- [  restartedMain] o.f.core.internal.scanner.Scanner        : [] Filtering out resource: db/migration/V7__Comprehensive_Audit_System.sql (filename: V7__Comprehensive_Audit_System.sql)
2025-08-23 19:07:49.390  INFO 69083 --- [  restartedMain] o.f.core.internal.command.DbValidate     : [] Successfully validated 50 migrations (execution time 00:00.187s)
2025-08-23 19:07:49.392 DEBUG 69083 --- [  restartedMain] o.f.core.internal.command.DbSchemas      : [] Skipping creation of existing schema: "public"
2025-08-23 19:07:49.403 DEBUG 69083 --- [  restartedMain] o.f.c.a.c.ClassicConfiguration           : [] CherryPickConfigurationExtension not found
2025-08-23 19:07:49.406  INFO 69083 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : [] Current version of schema "public": 126
2025-08-23 19:07:49.408  INFO 69083 --- [  restartedMain] o.f.core.internal.command.DbMigrate      : [] Schema "public" is up to date. No migration necessary.
2025-08-23 19:07:49.413 DEBUG 69083 --- [  restartedMain] org.flywaydb.core.FlywayExecutor         : [] Memory usage: 60 of 196M
2025-08-23 19:07:49.799  INFO 69083 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : [] No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-23 19:07:50.997  INFO 69083 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : [] Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-23 19:07:51.244  INFO 69083 --- [  restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : [] Hibernate is in classpath; If applicable, HQL parser will be used.
WARNING: A terminally deprecated method in sun.misc.Unsafe has been called
WARNING: sun.misc.Unsafe::allocateMemory has been called by io.netty.util.internal.PlatformDependent0$2 (file:/Users/omar/.m2/repository/io/netty/netty-common/4.1.112.Final/netty-common-4.1.112.Final.jar)
WARNING: Please consider reporting this to the maintainers of class io.netty.util.internal.PlatformDependent0$2
WARNING: sun.misc.Unsafe::allocateMemory will be removed in a future release
2025-08-23 19:07:52.261 DEBUG 69083 --- [  restartedMain] o.s.w.f.ServerHttpObservationFilter      : [] Filter 'webMvcObservationFilter' configured for use
2025-08-23 19:07:52.261 DEBUG 69083 --- [  restartedMain] o.s.web.filter.ShallowEtagHeaderFilter   : [] Filter 'shallowEtagHeaderFilter' configured for use
2025-08-23 19:07:52.953  INFO 69083 --- [  restartedMain] c.cafm.cafmbackend.config.MinioConfig    : [] MinIO client configured successfully - Endpoint: http://localhost:9000
2025-08-23 19:07:53.253  INFO 69083 --- [  restartedMain] c.c.c.service.FileUploadService          : [] MinIO buckets initialized successfully
2025-08-23 19:07:54.083  INFO 69083 --- [  restartedMain] eAuthenticationProviderManagerConfigurer : [] Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-23 19:07:54.084  WARN 69083 --- [  restartedMain] r$InitializeUserDetailsManagerConfigurer : [] Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used for username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider.
2025-08-23 19:07:54.461  INFO 69083 --- [  restartedMain] c.cafm.cafmbackend.config.AsyncConfig    : [] Configured default async executor with core pool size: 10, max pool size: 50, queue capacity: 500
2025-08-23 19:07:54.482  INFO 69083 --- [  restartedMain] c.cafm.cafmbackend.config.AsyncConfig    : [] Configured I/O task executor with virtual threads
2025-08-23 19:07:54.491  INFO 69083 --- [  restartedMain] c.cafm.cafmbackend.config.AsyncConfig    : [] Configured computation executor with 12 threads
2025-08-23 19:07:54.501  INFO 69083 --- [  restartedMain] c.cafm.cafmbackend.config.AsyncConfig    : [] Configured database task executor with limited concurrency
2025-08-23 19:07:54.510  INFO 69083 --- [  restartedMain] c.cafm.cafmbackend.config.AsyncConfig    : [] Configured notification executor with virtual threads
2025-08-23 19:07:54.510  INFO 69083 --- [  restartedMain] c.cafm.cafmbackend.config.AsyncConfig    : [] Configured scheduled task executor
2025-08-23 19:07:54.987 DEBUG 69083 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : [] 180 mappings in 'requestMappingHandlerMapping'
2025-08-23 19:07:55.049 DEBUG 69083 --- [  restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : [] Patterns [/webjars/**, /**, /static/**, /images/**, /swagger-ui/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-23 19:07:55.247  INFO 69083 --- [  restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : [] Exposing 16 endpoints beneath base path '/actuator'
2025-08-23 19:07:55.386 DEBUG 69083 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : [] Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, AuthenticationRateLimitFilter, JwtAuthenticationFilter, TenantSecurityFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-23 19:07:55.622 DEBUG 69083 --- [  restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : [] ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-23 19:07:55.673 DEBUG 69083 --- [  restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : [] ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-23 19:07:56.257 DEBUG 69083 --- [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : [] Starting RedisMessageListenerContainer...
2025-08-23 19:07:56.257 DEBUG 69083 --- [  restartedMain] o.s.d.r.l.RedisMessageListenerContainer  : [] Postpone listening for Redis messages until actual listeners are added
2025-08-23 19:07:56.386  WARN 69083 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : [] Unable to start LiveReload server
2025-08-23 19:07:56.455  INFO 69083 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : [] Tomcat started on port 8080 (http) with context path '/'
2025-08-23 19:07:56.468  INFO 69083 --- [  restartedMain] c.c.cafmbackend.CafmBackendApplication   : [] Started CafmBackendApplication in 11.054 seconds (process running for 11.294)
2025-08-23 19:08:10.941  INFO 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Initializing Servlet 'dispatcherServlet'
2025-08-23 19:08:10.942 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Detected StandardServletMultipartResolver
2025-08-23 19:08:10.942 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Detected AcceptHeaderLocaleResolver
2025-08-23 19:08:10.942 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Detected FixedThemeResolver
2025-08-23 19:08:10.951 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1ab44850
2025-08-23 19:08:10.951 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Detected org.springframework.web.servlet.support.SessionFlashMapManager@d92ef87
2025-08-23 19:08:10.951 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-23 19:08:10.951  INFO 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Completed initialization in 10 ms
2025-08-23 19:08:11.003 DEBUG 69083 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : [] Securing GET /actuator/health
2025-08-23 19:08:11.010 DEBUG 69083 --- [nio-8080-exec-2] o.s.s.w.a.AnonymousAuthenticationFilter  : [] Set SecurityContextHolder to anonymous SecurityContext
2025-08-23 19:08:11.012 DEBUG 69083 --- [nio-8080-exec-2] o.s.security.web.FilterChainProxy        : [] Secured GET /actuator/health
2025-08-23 19:08:11.014 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] GET "/actuator/health", parameters={}
2025-08-23 19:08:11.025 DEBUG 69083 --- [nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : [] Read "application/octet-stream" to []
2025-08-23 19:08:11.081 DEBUG 69083 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [] Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-08-23 19:08:11.085 DEBUG 69083 --- [nio-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [] Writing [org.springframework.boot.actuate.health.SystemHealth@561cd9cd]
2025-08-23 19:08:11.098 DEBUG 69083 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : [] Completed 200 OK
2025-08-23 19:08:24.669 DEBUG 69083 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : [] Securing POST /api/v1/auth/login
2025-08-23 19:08:24.672 DEBUG 69083 --- [nio-8080-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : [] Set SecurityContextHolder to anonymous SecurityContext
2025-08-23 19:08:24.674 DEBUG 69083 --- [nio-8080-exec-1] o.s.security.web.FilterChainProxy        : [] Secured POST /api/v1/auth/login
2025-08-23 19:08:24.677 DEBUG 69083 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : [] POST "/api/v1/auth/login", parameters={}
2025-08-23 19:08:24.678 DEBUG 69083 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : [] Mapped to com.cafm.cafmbackend.api.controllers.AuthController#login(LoginRequest, HttpServletRequest)
2025-08-23 19:08:24.695 DEBUG 69083 --- [nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : [] Read "application/json;charset=UTF-8" to [LoginRequest[email=admin@cafm.local, password=admin123, deviceId=null, deviceName=null, ipAddress=nu (truncated)...]
2025-08-23 19:08:24.728  INFO 69083 --- [nio-8080-exec-1] c.c.c.api.controllers.AuthController     : [] Login attempt for email: admin@cafm.local
2025-08-23 19:08:24.741  INFO 69083 --- [nio-8080-exec-1] c.cafm.cafmbackend.service.AuthService   : [] Login attempt for email: admin@cafm.local
2025-08-23 19:08:24.795 DEBUG 69083 --- [nio-8080-exec-1] org.hibernate.SQL                        : [] 
    /* <criteria> */ select
        u1_0.id,
        u1_0.address,
        u1_0.admin_id,
        u1_0.auth_user_id,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.certifications,
        u1_0.city,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.deleted_by,
        u1_0.deletion_reason,
        u1_0.department,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.employee_id,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        (COALESCE(u1_0.first_name, '') || ' ' || COALESCE(u1_0.last_name, '')),
        u1_0.hourly_rate,
        u1_0.iqama_id,
        u1_0.is_active,
        u1_0.is_available_for_assignment,
        u1_0.is_locked,
        u1_0.last_login_at,
        u1_0.last_login_ip,
        u1_0.last_name,
        u1_0.modified_by,
        u1_0.password_change_required,
        u1_0.password_changed_at,
        u1_0.password_hash,
        u1_0.performance_rating,
        u1_0.phone,
        u1_0.phone_verified,
        u1_0.plate_letters_ar,
        u1_0.plate_letters_en,
        u1_0.plate_number,
        u1_0.position,
        u1_0.postal_code,
        u1_0.productivity_score,
        u1_0.skill_level,
        u1_0.specialization,
        u1_0.status,
        u1_0.technicians_detailed,
        u1_0.updated_at,
        u1_0.user_type,
        u1_0.username,
        u1_0.verification_code,
        u1_0.verification_code_expiry,
        u1_0.version,
        u1_0.years_of_experience 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.address,
        u1_0.admin_id,
        u1_0.auth_user_id,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.certifications,
        u1_0.city,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.deleted_by,
        u1_0.deletion_reason,
        u1_0.department,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.employee_id,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        (COALESCE(u1_0.first_name, '') || ' ' || COALESCE(u1_0.last_name, '')),
        u1_0.hourly_rate,
        u1_0.iqama_id,
        u1_0.is_active,
        u1_0.is_available_for_assignment,
        u1_0.is_locked,
        u1_0.last_login_at,
        u1_0.last_login_ip,
        u1_0.last_name,
        u1_0.modified_by,
        u1_0.password_change_required,
        u1_0.password_changed_at,
        u1_0.password_hash,
        u1_0.performance_rating,
        u1_0.phone,
        u1_0.phone_verified,
        u1_0.plate_letters_ar,
        u1_0.plate_letters_en,
        u1_0.plate_number,
        u1_0.position,
        u1_0.postal_code,
        u1_0.productivity_score,
        u1_0.skill_level,
        u1_0.specialization,
        u1_0.status,
        u1_0.technicians_detailed,
        u1_0.updated_at,
        u1_0.user_type,
        u1_0.username,
        u1_0.verification_code,
        u1_0.verification_code_expiry,
        u1_0.version,
        u1_0.years_of_experience 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?)
2025-08-23 19:08:24.843 DEBUG 69083 --- [nio-8080-exec-1] org.hibernate.SQL                        : [] 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.created_at,
        r1_1.created_by,
        r1_1.description,
        r1_1.modified_by,
        r1_1.name,
        r1_1.updated_at,
        r1_1.version 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
Hibernate: 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.created_at,
        r1_1.created_by,
        r1_1.description,
        r1_1.modified_by,
        r1_1.name,
        r1_1.updated_at,
        r1_1.version 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-23 19:08:24.919 DEBUG 69083 --- [nio-8080-exec-1] org.hibernate.SQL                        : [] 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-08-23 19:08:24.972 DEBUG 69083 --- [nio-8080-exec-1] org.hibernate.SQL                        : [] 
    /* UPDATE
        User u 
    SET
        u.lastLoginAt = :loginTime 
    WHERE
        u.id = :userId */ update users u1_0 
    set
        last_login_at=? 
    where
        u1_0.id=?
Hibernate: 
    /* UPDATE
        User u 
    SET
        u.lastLoginAt = :loginTime 
    WHERE
        u.id = :userId */ update users u1_0 
    set
        last_login_at=? 
    where
        u1_0.id=?
2025-08-23 19:08:24.999  INFO 69083 --- [nio-8080-exec-1] SECURITY_AUDIT                           : [] SECURITY_EVENT - Type: LOGIN_ATTEMPT - User: admin@cafm.local - IP: 0:0:0:0:0:0:0:1 - Success: true - Time: 2025-08-23T19:08:24.999788 - Details: Login successful
2025-08-23 19:08:25.000  INFO 69083 --- [nio-8080-exec-1] c.c.c.api.controllers.AuthController     : [] Successful login for user: 0cde87f8-b1a7-4ffc-b0a6-518c46b394dd
2025-08-23 19:08:25.004 DEBUG 69083 --- [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-23 19:08:25.008 DEBUG 69083 --- [nio-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [] Writing [LoginResponse[accessToken=eyJhbGciOiJIUzUxMiJ9.eyJjb21wYW55SWQiOiIwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wM (truncated)...]
2025-08-23 19:08:25.009 DEBUG 69083 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : [] Completed 200 OK
2025-08-23 19:08:25.021 DEBUG 69083 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : [] Securing POST /api/v1/users
2025-08-23 19:08:25.051 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    /* <criteria> */ select
        u1_0.id,
        u1_0.address,
        u1_0.admin_id,
        u1_0.auth_user_id,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.certifications,
        u1_0.city,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.deleted_by,
        u1_0.deletion_reason,
        u1_0.department,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.employee_id,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        (COALESCE(u1_0.first_name, '') || ' ' || COALESCE(u1_0.last_name, '')),
        u1_0.hourly_rate,
        u1_0.iqama_id,
        u1_0.is_active,
        u1_0.is_available_for_assignment,
        u1_0.is_locked,
        u1_0.last_login_at,
        u1_0.last_login_ip,
        u1_0.last_name,
        u1_0.modified_by,
        u1_0.password_change_required,
        u1_0.password_changed_at,
        u1_0.password_hash,
        u1_0.performance_rating,
        u1_0.phone,
        u1_0.phone_verified,
        u1_0.plate_letters_ar,
        u1_0.plate_letters_en,
        u1_0.plate_number,
        u1_0.position,
        u1_0.postal_code,
        u1_0.productivity_score,
        u1_0.skill_level,
        u1_0.specialization,
        u1_0.status,
        u1_0.technicians_detailed,
        u1_0.updated_at,
        u1_0.user_type,
        u1_0.username,
        u1_0.verification_code,
        u1_0.verification_code_expiry,
        u1_0.version,
        u1_0.years_of_experience 
    from
        users u1_0 
    where
        u1_0.email=?
Hibernate: 
    /* <criteria> */ select
        u1_0.id,
        u1_0.address,
        u1_0.admin_id,
        u1_0.auth_user_id,
        u1_0.avatar_url,
        u1_0.bio,
        u1_0.certifications,
        u1_0.city,
        u1_0.company_id,
        u1_0.created_at,
        u1_0.created_by,
        u1_0.deleted_at,
        u1_0.deleted_by,
        u1_0.deletion_reason,
        u1_0.department,
        u1_0.email,
        u1_0.email_verified,
        u1_0.email_verified_at,
        u1_0.employee_id,
        u1_0.failed_login_attempts,
        u1_0.first_name,
        (COALESCE(u1_0.first_name, '') || ' ' || COALESCE(u1_0.last_name, '')),
        u1_0.hourly_rate,
        u1_0.iqama_id,
        u1_0.is_active,
        u1_0.is_available_for_assignment,
        u1_0.is_locked,
        u1_0.last_login_at,
        u1_0.last_login_ip,
        u1_0.last_name,
        u1_0.modified_by,
        u1_0.password_change_required,
        u1_0.password_changed_at,
        u1_0.password_hash,
        u1_0.performance_rating,
        u1_0.phone,
        u1_0.phone_verified,
        u1_0.plate_letters_ar,
        u1_0.plate_letters_en,
        u1_0.plate_number,
        u1_0.position,
        u1_0.postal_code,
        u1_0.productivity_score,
        u1_0.skill_level,
        u1_0.specialization,
        u1_0.status,
        u1_0.technicians_detailed,
        u1_0.updated_at,
        u1_0.user_type,
        u1_0.username,
        u1_0.verification_code,
        u1_0.verification_code_expiry,
        u1_0.version,
        u1_0.years_of_experience 
    from
        users u1_0 
    where
        u1_0.email=?
2025-08-23 19:08:25.055 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.created_at,
        r1_1.created_by,
        r1_1.description,
        r1_1.modified_by,
        r1_1.name,
        r1_1.updated_at,
        r1_1.version 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
Hibernate: 
    select
        r1_0.user_id,
        r1_1.id,
        r1_1.created_at,
        r1_1.created_by,
        r1_1.description,
        r1_1.modified_by,
        r1_1.name,
        r1_1.updated_at,
        r1_1.version 
    from
        user_roles r1_0 
    join
        roles r1_1 
            on r1_1.id=r1_0.role_id 
    where
        r1_0.user_id=?
2025-08-23 19:08:25.061 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-08-23 19:08:25.064 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [] Setting tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:25.075 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:25.079 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [] Set database tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:25.080 DEBUG 69083 --- [nio-8080-exec-3] o.s.security.web.FilterChainProxy        : [] Secured POST /api/v1/users
2025-08-23 19:08:25.081 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-08-23 19:08:25.083 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [] Setting tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:25.084 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:25.084 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [] Set database tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:25.085  INFO 69083 --- [nio-8080-exec-3] SECURITY                                 : [] TENANT_ACCESS: tenant=00000000-0000-0000-0000-000000000001, source=jwt, ip=0:0:0:0:0:0:0:1, session=null, user=admin@cafm.local, method=POST, uri=/api/v1/users
2025-08-23 19:08:25.085 DEBUG 69083 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : [] POST "/api/v1/users", parameters={}
2025-08-23 19:08:25.085 DEBUG 69083 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : [] Mapped to com.cafm.cafmbackend.api.controllers.UserController#createUser(UserCreateRequest, UserDetails)
2025-08-23 19:08:25.093 DEBUG 69083 --- [nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : [] Read "application/json;charset=UTF-8" to [UserCreateRequest[email=newuser@cafm.com, password=SecurePass123@, firstName=New, lastName=User, fir (truncated)...]
2025-08-23 19:08:25.104 DEBUG 69083 --- [nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : [] Authorizing method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.cafm.cafmbackend.api.controllers.UserController.createUser(com.cafm.cafmbackend.dto.user.UserCreateRequest,org.springframework.security.core.userdetails.UserDetails); target is of class [com.cafm.cafmbackend.api.controllers.UserController]
2025-08-23 19:08:25.111 DEBUG 69083 --- [nio-8080-exec-3] horizationManagerBeforeMethodInterceptor : [] Authorized method invocation ReflectiveMethodInvocation: public org.springframework.http.ResponseEntity com.cafm.cafmbackend.api.controllers.UserController.createUser(com.cafm.cafmbackend.dto.user.UserCreateRequest,org.springframework.security.core.userdetails.UserDetails); target is of class [com.cafm.cafmbackend.api.controllers.UserController]
2025-08-23 19:08:25.111  INFO 69083 --- [nio-8080-exec-3] c.c.c.api.controllers.UserController     : [] Create user request for email: newuser@cafm.com by admin: admin@cafm.local
2025-08-23 19:08:25.111  INFO 69083 --- [nio-8080-exec-3] c.cafm.cafmbackend.service.UserService   : [] Creating new user with email: newuser@cafm.com
2025-08-23 19:08:25.113 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?) 
    fetch
        first ? rows only
Hibernate: 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        upper(u1_0.email)=upper(?) 
    fetch
        first ? rows only
2025-08-23 19:08:25.116 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
    fetch
        first ? rows only
Hibernate: 
    /* <criteria> */ select
        u1_0.id 
    from
        users u1_0 
    where
        upper(u1_0.username)=upper(?) 
    fetch
        first ? rows only
2025-08-23 19:08:25.118 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [] 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-08-23 19:08:25.202 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.d.e.base.TenantEntityListener      : [] Pre-persist tenant validation for entity: User
2025-08-23 19:08:25.202 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.d.e.base.TenantEntityListener      : [] Skipping tenant validation for system operation: CREATE
2025-08-23 19:08:25.202  INFO 69083 --- [nio-8080-exec-3] c.c.c.d.e.base.TenantEntityListener      : [] SECURITY_AUDIT: operation=CREATE, entity=User, entityTenant=00000000-0000-0000-0000-000000000001, currentTenant=null, result=SUCCESS
2025-08-23 19:08:25.204  INFO 69083 --- [nio-8080-exec-3] c.cafm.cafmbackend.service.UserService   : [] Created user with ID: 9b5219c3-2e02-493d-a203-ec84253e2487
2025-08-23 19:08:25.216 DEBUG 69083 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : [] Using @ExceptionHandler com.cafm.cafmbackend.exception.GlobalExceptionHandler#handleGenericException(Exception, HttpServletRequest)
2025-08-23 19:08:25.217 ERROR 69083 --- [nio-8080-exec-3] c.c.c.exception.GlobalExceptionHandler   : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Internal server error - Correlation ID: c4d8d500-b6fd-4820-bb95-5182d6f422ca - Path: /api/v1/users - Exception: TransactionSystemException

org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:571)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:663)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:413)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.cafm.cafmbackend.service.UserService$$SpringCGLIB$$0.createUser(<generated>)
	at com.cafm.cafmbackend.api.controllers.UserController.createUser(UserController.java:122)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.cafm.cafmbackend.aspect.PerformanceMonitoringAspect.monitorControllerPerformance(PerformanceMonitoringAspect.java:197)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:269)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:264)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:197)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.cafm.cafmbackend.api.controllers.UserController$$SpringCGLIB$$0.createUser(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.SecurityHeadersConfig$CustomSecurityHeadersFilter.doFilterInternal(SecurityHeadersConfig.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.config.PerformanceOptimizationConfig.lambda$compressionFilter$0(PerformanceOptimizationConfig.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(ShallowEtagHeaderFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.EnhancedTenantSecurityFilter.doFilterInternal(EnhancedTenantSecurityFilter.java:112)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.ApiKeyAuthenticationFilter.doFilterInternal(ApiKeyAuthenticationFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.RequestBodyCachingFilter.doFilterInternal(RequestBodyCachingFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.cafm.cafmbackend.security.filter.TenantSecurityFilter.doFilterInternal(TenantSecurityFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.cafm.cafmbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:102)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: jakarta.persistence.RollbackException: Error while committing the transaction
	at org.hibernate.internal.ExceptionConverterImpl.convertCommitException(ExceptionConverterImpl.java:67)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:104)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	... 216 common frames omitted
Caused by: jakarta.validation.ConstraintViolationException: Validation failed for classes [com.cafm.cafmbackend.data.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Company is required for tenant isolation', propertyPath=company, rootBeanClass=class com.cafm.cafmbackend.data.entity.User, messageTemplate='Company is required for tenant isolation'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:151)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:81)
	at org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:251)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:106)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:487)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2324)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1981)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	... 217 common frames omitted

2025-08-23 19:08:25.224 DEBUG 69083 --- [        Async-1] c.c.c.s.tenant.TenantContextService      : [] No tenant context found, using system default
2025-08-23 19:08:25.224 DEBUG 69083 --- [        Async-1] c.c.c.s.tenant.TenantContextService      : [] Setting tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:25.224 DEBUG 69083 --- [        Async-1] org.hibernate.SQL                        : [] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:25.226 DEBUG 69083 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-23 19:08:25.226 DEBUG 69083 --- [        Async-1] c.c.c.s.tenant.TenantContextService      : [] Set database tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:25.228 DEBUG 69083 --- [nio-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Writing [ErrorResponse[timestamp=2025-08-23T19:08:25.224333, path=/api/v1/users, code=INTERNAL_SERVER_ERROR,  (truncated)...]
2025-08-23 19:08:25.228  WARN 69083 --- [        Async-1] c.cafm.cafmbackend.service.AuditService  : [] Security event: ERROR - Internal server error: TransactionSystemException at /api/v1/users - Correlation ID: c4d8d500-b6fd-4820-bb95-5182d6f422ca
2025-08-23 19:08:25.229  WARN 69083 --- [nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Resolved [org.springframework.transaction.TransactionSystemException: Could not commit JPA transaction]
2025-08-23 19:08:25.229 DEBUG 69083 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Completed 500 INTERNAL_SERVER_ERROR
2025-08-23 19:08:25.231 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-08-23 19:08:25.235 DEBUG 69083 --- [        Async-1] org.hibernate.SQL                        : [] 
    /* insert for
        com.cafm.cafmbackend.data.entity.AuditLog */insert 
    into
        audit_logs (action, api_endpoint, changes, company_id, duration_ms, entity_id, entity_name, entity_type, error_message, http_method, ip_address, new_values, old_values, request_id, response_code, session_id, status, timestamp, user_agent, user_id, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.cafm.cafmbackend.data.entity.AuditLog */insert 
    into
        audit_logs (action, api_endpoint, changes, company_id, duration_ms, entity_id, entity_name, entity_type, error_message, http_method, ip_address, new_values, old_values, request_id, response_code, session_id, status, timestamp, user_agent, user_id, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-23 19:08:25.243 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-08-23 19:08:25.245 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Clearing tenant context
2025-08-23 19:08:25.245 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:25.246 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Cleared database tenant context
2025-08-23 19:08:25.247 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Clearing tenant context
2025-08-23 19:08:25.247 DEBUG 69083 --- [nio-8080-exec-3] org.hibernate.SQL                        : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:25.247 DEBUG 69083 --- [nio-8080-exec-3] c.c.c.s.tenant.TenantContextService      : [c4d8d500-b6fd-4820-bb95-5182d6f422ca] Cleared database tenant context
2025-08-23 19:08:51.199 DEBUG 69083 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : [] Securing POST /api/v1/debug/test-user-creation
2025-08-23 19:08:51.203 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [] Setting tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:51.207 DEBUG 69083 --- [nio-8080-exec-4] org.hibernate.SQL                        : [] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:51.217 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [] Set database tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:51.221 DEBUG 69083 --- [nio-8080-exec-4] o.s.s.w.a.AnonymousAuthenticationFilter  : [] Set SecurityContextHolder to anonymous SecurityContext
2025-08-23 19:08:51.225 DEBUG 69083 --- [nio-8080-exec-4] o.s.security.web.FilterChainProxy        : [] Secured POST /api/v1/debug/test-user-creation
2025-08-23 19:08:51.226 DEBUG 69083 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : [] POST "/api/v1/debug/test-user-creation", parameters={}
2025-08-23 19:08:51.226 DEBUG 69083 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : [] Mapped to com.cafm.cafmbackend.api.controllers.DebugController#testUserCreation()
2025-08-23 19:08:51.229  INFO 69083 --- [nio-8080-exec-4] c.c.c.api.controllers.DebugController    : [] Starting test user creation
2025-08-23 19:08:51.231 DEBUG 69083 --- [nio-8080-exec-4] org.hibernate.SQL                        : [] 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
Hibernate: 
    select
        c1_0.id,
        c1_0.address,
        c1_0.city,
        c1_0.commercial_registration,
        c1_0.compliance_requirements,
        c1_0.contact_email,
        c1_0.contact_phone,
        c1_0.country,
        c1_0.created_at,
        c1_0.created_by,
        c1_0.currency,
        c1_0.data_classification,
        c1_0.deleted_at,
        c1_0.deleted_by,
        c1_0.deletion_reason,
        c1_0.display_name,
        c1_0.domain,
        c1_0.features,
        c1_0.industry,
        c1_0.is_active,
        c1_0.locale,
        c1_0.max_schools,
        c1_0.max_storage_gb,
        c1_0.max_supervisors,
        c1_0.max_technicians,
        c1_0.max_users,
        c1_0.modified_by,
        c1_0.name,
        c1_0.postal_code,
        c1_0.primary_contact_name,
        c1_0.settings,
        c1_0.status,
        c1_0.subdomain,
        c1_0.subscription_end_date,
        c1_0.subscription_plan,
        c1_0.subscription_start_date,
        c1_0.tax_number,
        c1_0.timezone,
        c1_0.updated_at,
        c1_0.version 
    from
        companies c1_0 
    where
        c1_0.id=?
2025-08-23 19:08:51.237  INFO 69083 --- [nio-8080-exec-4] c.c.c.api.controllers.DebugController    : [] Found company: Default System Company
2025-08-23 19:08:51.237 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [] Setting tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:51.239 DEBUG 69083 --- [nio-8080-exec-4] org.hibernate.SQL                        : [] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:51.243 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [] Set database tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:51.313  INFO 69083 --- [nio-8080-exec-4] c.c.c.api.controllers.DebugController    : [] Created user object with email: debuguser1755965331243@cafm.com
2025-08-23 19:08:51.313  INFO 69083 --- [nio-8080-exec-4] c.c.c.api.controllers.DebugController    : [] User type: TECHNICIAN
2025-08-23 19:08:51.313  INFO 69083 --- [nio-8080-exec-4] c.c.c.api.controllers.DebugController    : [] Company ID: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:51.325 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.d.e.base.TenantEntityListener      : [] Pre-persist tenant validation for entity: User
2025-08-23 19:08:51.326 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.d.e.base.TenantEntityListener      : [] Skipping tenant validation for system operation: CREATE
2025-08-23 19:08:51.326  INFO 69083 --- [nio-8080-exec-4] c.c.c.d.e.base.TenantEntityListener      : [] SECURITY_AUDIT: operation=CREATE, entity=User, entityTenant=00000000-0000-0000-0000-000000000001, currentTenant=null, result=SUCCESS
2025-08-23 19:08:51.335 ERROR 69083 --- [nio-8080-exec-4] c.c.c.api.controllers.DebugController    : [] Failed to save user

jakarta.validation.ConstraintViolationException: Validation failed for classes [com.cafm.cafmbackend.data.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Company is required for tenant isolation', propertyPath=company, rootBeanClass=class com.cafm.cafmbackend.data.entity.User, messageTemplate='Company is required for tenant isolation'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:151)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:81)
	at org.hibernate.action.internal.EntityInsertAction.preInsert(EntityInsertAction.java:251)
	at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:106)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:632)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:499)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:371)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1425)
	at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1411)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:319)
	at jdk.proxy3/jdk.proxy3.$Proxy244.flush(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.flush(SimpleJpaRepository.java:670)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:173)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:148)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:70)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy3/jdk.proxy3.$Proxy249.flush(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.cafm.cafmbackend.aspect.PerformanceMonitoringAspect.monitorRepositoryPerformance(PerformanceMonitoringAspect.java:105)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy3/jdk.proxy3.$Proxy249.flush(Unknown Source)
	at com.cafm.cafmbackend.api.controllers.DebugController.testUserCreation(DebugController.java:90)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:355)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.cafm.cafmbackend.aspect.PerformanceMonitoringAspect.monitorControllerPerformance(PerformanceMonitoringAspect.java:197)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:637)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:627)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:379)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.cafm.cafmbackend.api.controllers.DebugController$$SpringCGLIB$$0.testUserCreation(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.SecurityHeadersConfig$CustomSecurityHeadersFilter.doFilterInternal(SecurityHeadersConfig.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.config.PerformanceOptimizationConfig.lambda$compressionFilter$0(PerformanceOptimizationConfig.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(ShallowEtagHeaderFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.EnhancedTenantSecurityFilter.doFilterInternal(EnhancedTenantSecurityFilter.java:112)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.ApiKeyAuthenticationFilter.doFilterInternal(ApiKeyAuthenticationFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.RequestBodyCachingFilter.doFilterInternal(RequestBodyCachingFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.cafm.cafmbackend.security.filter.TenantSecurityFilter.doFilterInternal(TenantSecurityFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.cafm.cafmbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:102)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)

2025-08-23 19:08:51.336 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [] Clearing tenant context
2025-08-23 19:08:51.337 ERROR 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [] Failed to clear database tenant context: Validation failed for classes [com.cafm.cafmbackend.data.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Company is required for tenant isolation', propertyPath=company, rootBeanClass=class com.cafm.cafmbackend.data.entity.User, messageTemplate='Company is required for tenant isolation'}
]
2025-08-23 19:08:51.339 DEBUG 69083 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : [] Using @ExceptionHandler com.cafm.cafmbackend.exception.GlobalExceptionHandler#handleGenericException(Exception, HttpServletRequest)
2025-08-23 19:08:51.339 ERROR 69083 --- [nio-8080-exec-4] c.c.c.exception.GlobalExceptionHandler   : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Internal server error - Correlation ID: 8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3 - Path: /api/v1/debug/test-user-creation - Exception: UnexpectedRollbackException

org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:804)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:663)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:413)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:768)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:720)
	at com.cafm.cafmbackend.api.controllers.DebugController$$SpringCGLIB$$0.testUserCreation(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:255)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:188)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:926)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:831)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.SecurityHeadersConfig$CustomSecurityHeadersFilter.doFilterInternal(SecurityHeadersConfig.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.config.PerformanceOptimizationConfig.lambda$compressionFilter$0(PerformanceOptimizationConfig.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ShallowEtagHeaderFilter.doFilterInternal(ShallowEtagHeaderFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.EnhancedTenantSecurityFilter.doFilterInternal(EnhancedTenantSecurityFilter.java:112)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.ApiKeyAuthenticationFilter.doFilterInternal(ApiKeyAuthenticationFilter.java:65)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.RequestBodyCachingFilter.doFilterInternal(RequestBodyCachingFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.cafm.cafmbackend.security.filter.TenantSecurityFilter.doFilterInternal(TenantSecurityFilter.java:79)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at com.cafm.cafmbackend.security.filter.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:107)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at com.cafm.cafmbackend.security.filter.RateLimitingFilter.doFilterInternal(RateLimitingFilter.java:102)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:113)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:904)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)

2025-08-23 19:08:51.340 DEBUG 69083 --- [        Async-2] c.c.c.s.tenant.TenantContextService      : [] No tenant context found, using system default
2025-08-23 19:08:51.340 DEBUG 69083 --- [        Async-2] c.c.c.s.tenant.TenantContextService      : [] Setting tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:51.340 DEBUG 69083 --- [        Async-2] org.hibernate.SQL                        : [] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:51.340 DEBUG 69083 --- [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-08-23 19:08:51.340 DEBUG 69083 --- [nio-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Writing [ErrorResponse[timestamp=2025-08-23T19:08:51.339853, path=/api/v1/debug/test-user-creation, code=INTE (truncated)...]
2025-08-23 19:08:51.341  WARN 69083 --- [nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Resolved [org.springframework.transaction.UnexpectedRollbackException: Transaction silently rolled back because it has been marked as rollback-only]
2025-08-23 19:08:51.341 DEBUG 69083 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Completed 500 INTERNAL_SERVER_ERROR
2025-08-23 19:08:51.341 DEBUG 69083 --- [        Async-2] c.c.c.s.tenant.TenantContextService      : [] Set database tenant context to: 00000000-0000-0000-0000-000000000001
2025-08-23 19:08:51.341 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Clearing tenant context
2025-08-23 19:08:51.342 DEBUG 69083 --- [nio-8080-exec-4] org.hibernate.SQL                        : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:51.342  WARN 69083 --- [        Async-2] c.cafm.cafmbackend.service.AuditService  : [] Security event: ERROR - Internal server error: UnexpectedRollbackException at /api/v1/debug/test-user-creation - Correlation ID: 8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3
2025-08-23 19:08:51.342 DEBUG 69083 --- [        Async-2] org.hibernate.SQL                        : [] 
    /* insert for
        com.cafm.cafmbackend.data.entity.AuditLog */insert 
    into
        audit_logs (action, api_endpoint, changes, company_id, duration_ms, entity_id, entity_name, entity_type, error_message, http_method, ip_address, new_values, old_values, request_id, response_code, session_id, status, timestamp, user_agent, user_id, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
Hibernate: 
    /* insert for
        com.cafm.cafmbackend.data.entity.AuditLog */insert 
    into
        audit_logs (action, api_endpoint, changes, company_id, duration_ms, entity_id, entity_name, entity_type, error_message, http_method, ip_address, new_values, old_values, request_id, response_code, session_id, status, timestamp, user_agent, user_id, username, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-23 19:08:51.344 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Cleared database tenant context
2025-08-23 19:08:51.344 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Clearing tenant context
2025-08-23 19:08:51.345 DEBUG 69083 --- [nio-8080-exec-4] org.hibernate.SQL                        : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
Hibernate: 
    /* dynamic native SQL query */ SELECT
        set_config(?, ?, false)
2025-08-23 19:08:51.345 DEBUG 69083 --- [nio-8080-exec-4] c.c.c.s.tenant.TenantContextService      : [8c2a7c32-4b5d-4672-85b9-d53d1ac91ee3] Cleared database tenant context
2025-08-23 19:09:39.806 DEBUG 69083 --- [ionShutdownHook] o.s.d.r.l.RedisMessageListenerContainer  : [] Stopped RedisMessageListenerContainer
2025-08-23 19:09:39.821  INFO 69083 --- [ionShutdownHook] j.LocalContainerEntityManagerFactoryBean : [] Closing JPA EntityManagerFactory for persistence unit 'default'
